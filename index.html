<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-Paper-Scissors</title>
</head>
<body>
    <script>
        console.log("Hello World!")

        const choices = ["rock", "paper", "scissors"];

        Game();


        function getComputerChoice() {
            return choices[Math.floor(Math.random() * choices.length)];
        }

        function playRound(playerSelection, computerSelection) {

            let result;
            // align cases
            // playerSelection = playerSelection.toLowerCase();
            // computerSelection = computerSelection.toLowerCase();

            if (playerSelection == "rock") {
                if (computerSelection == "scissors") {
                    result = "win";
                }
                else if (computerSelection == "paper") {
                    result = "lose";
                }
                else if (computerSelection == "rock") {
                    result = "tie";
                }
            }

            if (playerSelection == "paper") {
                if (computerSelection == "scissors") {
                    result = "lose";
                }
                else if (computerSelection == "paper") {
                    result = "tie";
                }
                else if (computerSelection == "rock") {
                    result = "win";
                }
            }

            if (playerSelection == "scissors") {
                if (computerSelection == "scissors") {
                    result = "tie";
                }
                else if (computerSelection == "paper") {
                    result = "win";
                }
                else if (computerSelection == "rock") {
                    result = "lose";
                }
            }
            return result;
        }

        function Game() {

            // to do: add prompt, loop game 5 times, keep score, report winner or loser, modify return value of playRound to be more useful
            let playerScore = 0;
            let computerScore = 0;
            let currentRound;
            
            for (let i = 0; i < 5; i++) {

                console.log("Round " + (i + 1) + " start!")
                let input = prompt("Please enter a choice between rock, paper and scissors: ");
                currentRound = playRound(input, getComputerChoice());
                if (currentRound == "win") {
                    playerScore += 1;
                    console.log("You win this round!")
                } else if (currentRound == "lose") {
                    computerScore += 1;
                    console.log("You lost this round!")
                } else if (currentRound == "tie") {
                    playerScore += 1;
                    computerScore += 1
                    console.log("You tied this round!")
                }
                console.log("Score is currrently: Player: " + playerScore + ", Computer: " + computerScore);
            }

            // final score report
            if (playerScore > computerScore) {
                console.log("You won the whole thing, congrats!! The final score is " + playerScore + " - " + computerScore + " in your favor!");
            } else if (playerScore < computerScore) {
                console.log("Unfortunately the computer won! The final score is " + computerScore + " - " + playerScore + " in their favor.");
            } else if (playerScore == computerScore) {
                console.log("Wow!!! It was a tie! The final score is " + playerScore + " - " + computerScore);
            }

        }
    </script>
</body>
</html>